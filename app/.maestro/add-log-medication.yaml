appId: host.exp.Exponent
---
# E2E Test: Add and Log Medication
# Tests adding a new medication and logging a dose

- launchApp
- assertVisible: "Dashboard"

# Navigate to Medications tab
- tapOn:
    text: "Medications"
- assertVisible: "My Medications"

# Add a new medication
- tapOn: "Add Medication"
- assertVisible: "Add Medication"

# Fill in medication details
- tapOn: "Medication Name"
- inputText: "Ibuprofen"

# Select medication type (Rescue)
- tapOn: "Rescue"

# Fill in dosage
- tapOn: "Dosage"
- inputText: "400"

# Select unit
- tapOn: "Unit"
- tapOn: "mg"

# Save medication
- tapOn: "Save"

# Verify back on medications list
- assertVisible: "My Medications"
- assertVisible: "Ibuprofen"
- assertVisible: "400 mg"

# Log a dose of the medication
- tapOn: "Ibuprofen"
- assertVisible: "Medication Detail"

# Log dose
- tapOn: "Log Dose"
- assertVisible: "Log Medication"

# Verify medication info is shown
- assertVisible: "Ibuprofen"

# Set quantity (default is usually 1)
- assertVisible: "Quantity"

# Add optional notes
- tapOn: "Notes"
- inputText: "Took with food"

# Save the dose log
- tapOn: "Save"

# Verify back on medication detail
- assertVisible: "Medication Detail"

# Verify dose appears in history
- assertVisible: "Recent Doses"
- assertVisible: "400 mg"

# Navigate to medication log screen
- tapOn: "View All Doses"
- assertVisible: "Medication Log"

# Verify dose logged
- assertVisible: "Ibuprofen"
- assertVisible: "Took with food"

# Go back to medications tab
- back
- back
- assertVisible: "My Medications"
